!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self)["base-captcha"]={})}(this,(function(e){"use strict";var n=function(e,n,t){return e(t={path:n,exports:{},require:function(e,n){return function(){throw Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}()}},t.exports),t.exports}((function(e){
/*!
	  * $script.js JS loader & dependency manager
	  * https://github.com/ded/script.js
	  * (c) Dustin Diaz 2014 | License MIT
	  */
!function(n,t){e.exports?e.exports=t():this.$script=t()}(0,(function(){var e,n,t=document,o=t.getElementsByTagName("head")[0],s={},a={},i={};function c(e,n){for(var t=0,o=e.length;o>t;++t)if(!n(e[t]))return false;return 1}function r(e,n){c(e,(function(e){return n(e),1}))}function u(n,t,o){n=n.push?n:[n];var d=t&&t.call,f=d?t:o,p=d?n.join(""):t,w=n.length;function m(e){return e.call?e():s[e]}function h(){if(!--w)for(var e in s[p]=1,f&&f(),a)c(e.split("|"),m)&&!r(a[e],m)&&(a[e]=[])}return setTimeout((function(){r(n,(function n(t,o){return null===t?h():(o||/^https?:\/\//.test(t)||!e||(t=-1===t.indexOf(".js")?e+t+".js":e+t),i[t]?2==i[t]?h():setTimeout((function(){n(t,!0)}),0):(i[t]=1,void l(t,h)))}))}),0),u}function l(e,s){var a,c=t.createElement("script");c.onload=c.onerror=c.onreadystatechange=function(){c.readyState&&!/^c|loade/.test(c.readyState)||a||(c.onload=c.onreadystatechange=null,a=1,i[e]=2,s())},c.async=1,c.src=n?e+(-1===e.indexOf("?")?"?":"&")+n:e,o.insertBefore(c,o.lastChild)}return u.get=l,u.order=function(e,n,t){!function o(s){s=e.shift(),e.length?u(s,o):u(s,n,t)}()},u.path=function(n){e=n},u.urlArgs=function(e){n=e},u.ready=function(e,n,t){var o,i=[];return!r(e=e.push?e:[e],(function(e){s[e]||i.push(e)}))&&c(e,(function(e){return s[e]}))?n():(o=e.join("|"),a[o]=a[o]||[],a[o].push(n),t&&t(i)),u},u.done=function(e){u([null],e)},u}))}));function t(e){!function(e,n,t,o,s){var a,i=null,c=new XMLHttpRequest;if(i=setTimeout((function(){o&&o()}),1500),c.open(n,e,!0),c.timeout=1e3,c.onerror=function(){clearTimeout(i),s&&s()},c.ontimeout=function(){clearTimeout(i),o&&o()},c.onreadystatechange=function(){if(4==c.readyState){clearTimeout(i);var e=c.responseText;try{e=JSON.parse(e)}catch(e){}o&&o(e)}},t){var r=[];for(var u in t)r.push(u+"="+encodeURIComponent(t[u]));(a=r.join("&")).length&&c.setRequestHeader("Content-type","application/x-www-form-urlencoded")}c.send(a)}(e.url,e.method,e.params,e.successCallback,e.errorCallback)}function o(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"passport.lagou.com";t({url:"//".concat(o,"/jsVersonNumber/getJsVersionNumber.json?keyCode=").concat(n),method:"get",successCallback:e,errorCallback:e})}void 0===window.lagouSenseCallbackList&&(window.lagouSenseCallbackList=[]),void 0===window.senseScriptLoadLock&&(window.senseScriptLoadLock=!1);e.captchaGetSenseKey=function(){var e=void 0!==window.LaGouCaptchaGetSenseKey;return new Promise((function(t,s){e?t():o((function(e){var o="//www.lgstatic.com/lg-static-fed/common/static/js/sense/senseGetCaptchaKey.sense.1.0.0.js";if(1===(null==e?void 0:e.state)){var s,a,i=null==e||null===(s=e.content)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.version;o="//www.lgstatic.com/lg-static-fed/common/static/js/sense/senseGetCaptchaKey.sense.".concat(i||"1.0.0",".js")}n(["".concat(o,"?v=")+(new Date).getTime()],(function(){t()}))}),"senseGetCaptchaKey")}))},e.default=function(e,t){if(window.lagouSenseCallbackList.push(e),!window.senseScriptLoadLock){if(window.senseScriptLoadLock=!0,void 0!==window.LaGouCaptchaSenseClass)return window.senseScriptLoadLock=!1,void e();o((function(e){var t="//www.lgstatic.com/lg-static-fed/common/static/js/sense/captchaClass.sense.1.0.0.js";if(1===(null==e?void 0:e.state)){var o,s,a=null==e||null===(o=e.content)||void 0===o||null===(s=o.data)||void 0===s?void 0:s.version;t="//www.lgstatic.com/lg-static-fed/common/static/js/sense/captchaClass.sense.".concat(a||"1.0.0",".js")}n(["".concat(t,"?v=")+(new Date).getTime()],(function(){window.senseScriptLoadLock=!1,window.lagouSenseCallbackList.forEach((function(e){e&&e()})),window.lagouSenseCallbackList=[]}))}),"senseCaptchaClass",t)}},Object.defineProperty(e,"__esModule",{value:!0})}));
